{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nlet FormComponent = class FormComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.signinForm = new FormGroup({});\n    this.username = '';\n    this.password = '';\n    this.isLoggedIn = false;\n  }\n  ngOnInit() {\n    this.signinForm = new FormGroup({\n      username: new FormControl(),\n      password: new FormControl()\n    });\n  }\n  signIn() {\n    const user = this.signinForm.value;\n    this.username = user.username;\n    this.password = user.password;\n    this.authService.login(this.username, this.password).subscribe(data => {\n      // check if data has the key 'error'\n      if (data.hasOwnProperty('error')) {\n        alert(data.error);\n        this.signinForm.reset();\n      } else {\n        console.log(data);\n        localStorage.setItem('token', data.token);\n        this.isLoggedIn = true;\n        this.router.navigate(['/home']);\n      }\n    });\n  }\n};\nFormComponent = __decorate([Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css']\n})], FormComponent);\nexport { FormComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,SAAS,EAAEC,WAAW,QAAQ,gBAAgB;AAQhD,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAQxBC,YAAoBC,MAAc,EAAUC,WAAwB;IAAhD,WAAM,GAAND,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IANvD,eAAU,GAAc,IAAIL,SAAS,CAAC,EAAE,CAAC;IAEzC,aAAQ,GAAG,EAAE;IACb,aAAQ,GAAG,EAAE;IACb,eAAU,GAAG,KAAK;EAEsD;EAExEM,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,IAAIP,SAAS,CAAC;MAC9BQ,QAAQ,EAAE,IAAIP,WAAW,EAAE;MAC3BQ,QAAQ,EAAE,IAAIR,WAAW;KAC1B,CAAC;EACJ;EAEAS,MAAM;IACJ,MAAMC,IAAI,GAAG,IAAI,CAACJ,UAAU,CAACK,KAAK;IAClC,IAAI,CAACJ,QAAQ,GAAGG,IAAI,CAACH,QAAQ;IAC7B,IAAI,CAACC,QAAQ,GAAGE,IAAI,CAACF,QAAQ;IAE7B,IAAI,CAACJ,WAAW,CAACQ,KAAK,CAAC,IAAI,CAACL,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACK,SAAS,CAACC,IAAI,IAAG;MACpE;MACA,IAAIA,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;QAChCC,KAAK,CAACF,IAAI,CAACG,KAAK,CAAC;QACjB,IAAI,CAACX,UAAU,CAACY,KAAK,EAAE;OACxB,MACI;QACHC,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;QACjBO,YAAY,CAACC,OAAO,CAAC,OAAO,EAAER,IAAI,CAACS,KAAK,CAAC;QACzC,IAAI,CAACC,UAAU,GAAG,IAAI;QACtB,IAAI,CAACrB,MAAM,CAACsB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;IAEnC,CAAC,CAAC;EACJ;CACD;AApCYxB,aAAa,eALzBH,SAAS,CAAC;EACT4B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACW3B,aAAa,CAoCzB;SApCYA,aAAa","names":["Component","FormGroup","FormControl","FormComponent","constructor","router","authService","ngOnInit","signinForm","username","password","signIn","user","value","login","subscribe","data","hasOwnProperty","alert","error","reset","console","log","localStorage","setItem","token","isLoggedIn","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/gui/TPW/tpw-projeto2/clanly/src/app/components/form/form.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css']\n})\nexport class FormComponent implements OnInit {\n\n  signinForm: FormGroup = new FormGroup({});\n\n  username = '';\n  password = '';\n  isLoggedIn = false;\n\n  constructor(private router: Router, private authService: AuthService) { }\n\n  ngOnInit() {\n    this.signinForm = new FormGroup({\n      username: new FormControl(),\n      password: new FormControl()\n    });\n  }\n  \n  signIn() {\n    const user = this.signinForm.value;\n    this.username = user.username;\n    this.password = user.password;\n\n    this.authService.login(this.username, this.password).subscribe(data => {\n      // check if data has the key 'error'\n      if (data.hasOwnProperty('error')) {\n        alert(data.error);\n        this.signinForm.reset();\n      }\n      else {\n        console.log(data);\n        localStorage.setItem('token', data.token);\n        this.isLoggedIn = true;\n        this.router.navigate(['/home']);\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}