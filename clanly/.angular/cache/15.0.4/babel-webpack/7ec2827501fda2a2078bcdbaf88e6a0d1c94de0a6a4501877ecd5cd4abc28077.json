{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nlet CreateformComponent = class CreateformComponent {\n  constructor(auth, router) {\n    this.auth = auth;\n    this.router = router;\n    this.signupForm = new FormGroup({});\n  }\n  ngOnInit() {\n    this.signupForm = new FormGroup({\n      username: new FormControl(),\n      email: new FormControl(),\n      name: new FormControl(),\n      password: new FormControl(),\n      password2: new FormControl()\n    });\n  }\n  signUp() {\n    const user = this.signupForm.value;\n    if (user.password !== user.password2) {\n      this.signupForm = new FormGroup({\n        username: user.username,\n        email: user.email,\n        name: user.name,\n        password: new FormControl(),\n        password2: new FormControl()\n      });\n      alert(\"Passwords don't match\");\n    } else {\n      this.auth.signup(user.username, user.email, user.name, user.password).subscribe(data => {\n        if (data.hasOwnProperty('error')) {\n          this.signupForm.reset();\n          alert(data.error);\n        } else {\n          this.router.navigate(['/login']);\n        }\n      });\n    }\n  }\n};\nCreateformComponent = __decorate([Component({\n  selector: 'app-createform',\n  templateUrl: './createform.component.html',\n  styleUrls: ['./createform.component.css']\n})], CreateformComponent);\nexport { CreateformComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,SAAS,EAAEC,WAAW,QAAQ,gBAAgB;AAShD,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAI9BC,YAAoBC,IAAiB,EAAUC,MAAa;IAAxC,SAAI,GAAJD,IAAI;IAAuB,WAAM,GAANC,MAAM;IAFrD,eAAU,GAAc,IAAIL,SAAS,CAAC,EAAE,CAAC;EAEuB;EAEhEM,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,IAAIP,SAAS,CAAC;MAC9BQ,QAAQ,EAAE,IAAIP,WAAW,EAAE;MAC3BQ,KAAK,EAAE,IAAIR,WAAW,EAAE;MACxBS,IAAI,EAAE,IAAIT,WAAW,EAAE;MACvBU,QAAQ,EAAE,IAAIV,WAAW,EAAE;MAC3BW,SAAS,EAAE,IAAIX,WAAW;KAC3B,CAAC;EACJ;EAEAY,MAAM;IACJ,MAAMC,IAAI,GAAG,IAAI,CAACP,UAAU,CAACQ,KAAK;IAElC,IAAID,IAAI,CAACH,QAAQ,KAAKG,IAAI,CAACF,SAAS,EAAE;MACpC,IAAI,CAACL,UAAU,GAAG,IAAIP,SAAS,CAAC;QAC9BQ,QAAQ,EAAEM,IAAI,CAACN,QAAQ;QACvBC,KAAK,EAAEK,IAAI,CAACL,KAAK;QACjBC,IAAI,EAAEI,IAAI,CAACJ,IAAI;QACfC,QAAQ,EAAE,IAAIV,WAAW,EAAE;QAC3BW,SAAS,EAAE,IAAIX,WAAW;OAC3B,CAAC;MACFe,KAAK,CAAC,uBAAuB,CAAC;KAC/B,MACI;MACH,IAAI,CAACZ,IAAI,CAACa,MAAM,CAACH,IAAI,CAACN,QAAQ,EAAEM,IAAI,CAACL,KAAK,EAAEK,IAAI,CAACJ,IAAI,EAAEI,IAAI,CAACH,QAAQ,CAAC,CAACO,SAAS,CAACC,IAAI,IAAG;QACrF,IAAIA,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;UAChC,IAAI,CAACb,UAAU,CAACc,KAAK,EAAE;UACvBL,KAAK,CAACG,IAAI,CAACG,KAAK,CAAC;SAClB,MACI;UACH,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;MAEpC,CAAC;;EAEL;CAED;AA1CYrB,mBAAmB,eAL/BH,SAAS,CAAC;EACTyB,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACWxB,mBAAmB,CA0C/B;SA1CYA,mBAAmB","names":["Component","FormGroup","FormControl","CreateformComponent","constructor","auth","router","ngOnInit","signupForm","username","email","name","password","password2","signUp","user","value","alert","signup","subscribe","data","hasOwnProperty","reset","error","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/gui/TPW/tpw-projeto2/clanly/src/app/components/signup/createform/createform.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-createform',\n  templateUrl: './createform.component.html',\n  styleUrls: ['./createform.component.css']\n})\nexport class CreateformComponent {\n\n  signupForm: FormGroup = new FormGroup({});\n  \n  constructor(private auth: AuthService, private router: Route) { }\n  \n  ngOnInit() {\n    this.signupForm = new FormGroup({\n      username: new FormControl(),\n      email: new FormControl(),\n      name: new FormControl(),\n      password: new FormControl(),\n      password2: new FormControl()\n    });\n  }\n\n  signUp() {\n    const user = this.signupForm.value;\n\n    if (user.password !== user.password2) {\n      this.signupForm = new FormGroup({\n        username: user.username,\n        email: user.email,\n        name: user.name,\n        password: new FormControl(),\n        password2: new FormControl()\n      });\n      alert(\"Passwords don't match\");\n    }\n    else {\n      this.auth.signup(user.username, user.email, user.name, user.password).subscribe(data => {\n        if (data.hasOwnProperty('error')) {\n          this.signupForm.reset();\n          alert(data.error);\n        }\n        else {\n          this.router.navigate(['/login']);\n        }\n      }\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}