{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet PostComponent = class PostComponent {\n  constructor(img, api) {\n    this.img = img;\n    this.api = api;\n    this.image = 'https://placeimg.com/2000/1000/nature';\n    this.id = '';\n    this.comments = [];\n    this.clanImg = 'https://placeimg.com/400/400/people';\n    this.userImg = 'https://placeimg.com/400/400/people';\n    this.isOwner = false;\n  }\n  ngOnChanges(changes) {\n    this.post = changes['post'].currentValue;\n    this.title = this.post.title;\n    this.content = this.post.description;\n    this.id = this.post.id;\n    this.image = this.img.getImage(this.post.post_img);\n    this.api.getBasicPost(this.id).subscribe(data => {\n      console.log(data);\n      this.comments = data.comments;\n      this.clan = data.clan;\n      this.user = data.author;\n      this.clanImg = this.img.getImage(this.clan.clan_img);\n      this.userImg = this.img.getImage(this.user.profile_img);\n      if (this.user.id == sessionStorage.getItem('user_id')) {\n        this.isOwner = true;\n      }\n    });\n  }\n};\n__decorate([Input()], PostComponent.prototype, \"title\", void 0);\n__decorate([Input()], PostComponent.prototype, \"content\", void 0);\n__decorate([Input()], PostComponent.prototype, \"image\", void 0);\n__decorate([Input()], PostComponent.prototype, \"post\", void 0);\nPostComponent = __decorate([Component({\n  selector: 'app-post',\n  templateUrl: './post.component.html',\n  styleUrls: ['./post.component.css']\n})], PostComponent);\nexport { PostComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,QAAkC,eAAe;AASnE,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAaxBC,YAAoBC,GAAiB,EAAUC,GAAe;IAA1C,QAAG,GAAHD,GAAG;IAAwB,QAAG,GAAHC,GAAG;IAVzC,UAAK,GAAY,uCAAuC;IAEjE,OAAE,GAAiB,EAAE;IACrB,aAAQ,GAAQ,EAAE;IAGlB,YAAO,GAAW,qCAAqC;IACvD,YAAO,GAAW,qCAAqC;IACvD,YAAO,GAAY,KAAK;EAE0C;EAElEC,WAAW,CAACC,OAAsB;IAChC,IAAI,CAACC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC,CAACE,YAAY;IACxC,IAAI,CAACC,KAAK,GAAG,IAAI,CAACF,IAAI,CAACE,KAAK;IAC5B,IAAI,CAACC,OAAO,GAAG,IAAI,CAACH,IAAI,CAACI,WAAW;IACpC,IAAI,CAACC,EAAE,GAAG,IAAI,CAACL,IAAI,CAACK,EAAE;IACtB,IAAI,CAACC,KAAK,GAAG,IAAI,CAACV,GAAG,CAACW,QAAQ,CAAC,IAAI,CAACP,IAAI,CAACQ,QAAQ,CAAC;IAClD,IAAI,CAACX,GAAG,CAACY,YAAY,CAAC,IAAI,CAACJ,EAAE,CAAC,CAACK,SAAS,CAAEC,IAAS,IAAI;MACrDC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAI,CAACG,QAAQ,GAAGH,IAAI,CAACG,QAAQ;MAC7B,IAAI,CAACC,IAAI,GAAGJ,IAAI,CAACI,IAAI;MACrB,IAAI,CAACC,IAAI,GAAGL,IAAI,CAACM,MAAM;MACvB,IAAI,CAACC,OAAO,GAAG,IAAI,CAACtB,GAAG,CAACW,QAAQ,CAAC,IAAI,CAACQ,IAAI,CAACI,QAAQ,CAAC;MACpD,IAAI,CAACC,OAAO,GAAG,IAAI,CAACxB,GAAG,CAACW,QAAQ,CAAC,IAAI,CAACS,IAAI,CAACK,WAAW,CAAC;MACvD,IAAI,IAAI,CAACL,IAAI,CAACX,EAAE,IAAIiB,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,EAAE;QACrD,IAAI,CAACC,OAAO,GAAG,IAAI;;IAEvB,CAAC,CAAC;EACJ;CACD;AAhCUC,YAARhC,KAAK,EAAE,4CAAgB;AACfgC,YAARhC,KAAK,EAAE,8CAAkB;AACjBgC,YAARhC,KAAK,EAAE,4CAA0D;AACzDgC,YAARhC,KAAK,EAAE,2CAAW;AAJRC,aAAa,eALzBF,SAAS,CAAC;EACTkC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWlC,aAAa,CAiCzB;SAjCYA,aAAa","names":["Component","Input","PostComponent","constructor","img","api","ngOnChanges","changes","post","currentValue","title","content","description","id","image","getImage","post_img","getBasicPost","subscribe","data","console","log","comments","clan","user","author","clanImg","clan_img","userImg","profile_img","sessionStorage","getItem","isOwner","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/gui/TPW/tpw-projeto2/clanly/src/app/components/post/post.component.ts"],"sourcesContent":["import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { ImageService } from 'src/app/services/image.service';\nimport { ApiService } from 'src/app/services/api-service.service';\n\n@Component({\n  selector: 'app-post',\n  templateUrl: './post.component.html',\n  styleUrls: ['./post.component.css']\n})\nexport class PostComponent implements OnChanges {\n  @Input() title?: string;\n  @Input() content?: string;\n  @Input() image?: string = 'https://placeimg.com/2000/1000/nature';\n  @Input() post: any;\n  id: string | any = '';\n  comments: any = [];\n  clan: any;\n  user: any;\n  clanImg: string = 'https://placeimg.com/400/400/people';\n  userImg: string = 'https://placeimg.com/400/400/people';\n  isOwner: boolean = false;\n\n  constructor(private img: ImageService, private api: ApiService) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.post = changes['post'].currentValue;\n    this.title = this.post.title;\n    this.content = this.post.description;\n    this.id = this.post.id;\n    this.image = this.img.getImage(this.post.post_img);\n    this.api.getBasicPost(this.id).subscribe((data: any) => {\n      console.log(data);\n      this.comments = data.comments;\n      this.clan = data.clan;\n      this.user = data.author;\n      this.clanImg = this.img.getImage(this.clan.clan_img);\n      this.userImg = this.img.getImage(this.user.profile_img);\n      if (this.user.id == sessionStorage.getItem('user_id')) {\n        this.isOwner = true;\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}