{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api-service.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../post/post.component\";\nimport * as i5 from \"../profile/profile.component\";\nimport * as i6 from \"../profile/profilebanner/profilebanner.component\";\nfunction UserComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-post\", 5);\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return [0, 1, 2, 3];\n};\nexport class UserComponent {\n  constructor(api, auth) {\n    this.api = api;\n    this.auth = auth;\n    this.imageUrl = 'https://placeimg.com/2000/1000/nature';\n    this.nFollowing = 0;\n    this.nPosts = 0;\n    this.nComments = 0;\n    this.profileImageUrl = 'https://placeimg.com/400/400/people';\n    this.name = '';\n    this.bio = '';\n    this.labels = [];\n    this.data = [];\n  }\n  ngOnInit() {\n    const token = sessionStorage.getItem('token');\n    this.api.getProfile(token).subscribe(data => {\n      if (data.hasOwnProperty('error')) {\n        alert(data.error);\n        this.auth.logout();\n      } else {\n        this.name = data.name;\n        this.bio = data.bio;\n        this.nFollowing = data.nFollowing;\n        this.nPosts = data.nPosts;\n        this.nComments = data.nComments;\n        this.profileImageUrl = data.profileImageUrl;\n        this.imageUrl = data.coverImageUrl;\n        this.labels = data.labels;\n        this.data = data.data;\n        console.log(this.profileImageUrl);\n      }\n    });\n  }\n}\nUserComponent.ɵfac = function UserComponent_Factory(t) {\n  return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserComponent,\n  selectors: [[\"app-user\"]],\n  decls: 5,\n  vars: 11,\n  consts: [[3, \"imageUrl\"], [1, \"relative\", \"py-16\", \"bg-base-100\"], [1, \"container\", \"mx-auto\", \"px-4\"], [\"entity\", \"user\", 3, \"nFollowing\", \"nPosts\", \"nComments\", \"imageUrl\", \"name\", \"desc\", \"labels\", \"data\"], [4, \"ngFor\", \"ngForOf\"], [\"title\", \"Lorem ipsum dolor sit amet.\", \"content\", \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus, qui officia ad ullam, consequuntur culpa rem pariatur a deserunt nulla provident suscipit nemo sapiente dolorem! Quas adipisci, quibusdam neque deserunt totam blanditiis maxime voluptates tempora sunt excepturi eligendi corrupti. Accusantium delectus doloremque expedita quasi laudantium non voluptatibus, esse at inventore.\"]],\n  template: function UserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-profilebanner\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"app-profile\", 3);\n      i0.ɵɵtemplate(4, UserComponent_div_4_Template, 2, 0, \"div\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"imageUrl\", ctx.imageUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"nFollowing\", ctx.nFollowing)(\"nPosts\", ctx.nPosts)(\"nComments\", ctx.nComments)(\"imageUrl\", ctx.profileImageUrl)(\"name\", ctx.name)(\"desc\", ctx.bio)(\"labels\", ctx.labels)(\"data\", ctx.data);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(10, _c0));\n    }\n  },\n  dependencies: [i3.NgForOf, i4.PostComponent, i5.ProfileComponent, i6.ProfilebannerComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2VyL3VzZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0tBQWdLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAIQA,2BAAqC;IACjCA,8BACma;IACvaA,iBAAM;;;;;;ACEd,OAAM,MAAOC,aAAa;EAYxBC,YAAoBC,GAAe,EAAUC,IAAiB;IAA1C,QAAG,GAAHD,GAAG;IAAsB,SAAI,GAAJC,IAAI;IAVjD,aAAQ,GAAW,uCAAuC;IAC1D,eAAU,GAAW,CAAC;IACtB,WAAM,GAAW,CAAC;IAClB,cAAS,GAAW,CAAC;IACrB,oBAAe,GAAW,qCAAqC;IAC/D,SAAI,GAAW,EAAE;IACjB,QAAG,GAAW,EAAE;IAChB,WAAM,GAAa,EAAE;IACrB,SAAI,GAAa,EAAE;EAE+C;EAElEC,QAAQ;IACN,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;IAE7C,IAAI,CAACL,GAAG,CAACM,UAAU,CAAEH,KAAK,CAAC,CAACI,SAAS,CAACC,IAAI,IAAG;MAC3C,IAAIA,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;QAChCC,KAAK,CAACF,IAAI,CAACG,KAAK,CAAC;QACjB,IAAI,CAACV,IAAI,CAACW,MAAM,EAAE;OACnB,MACI;QACH,IAAI,CAACC,IAAI,GAAGL,IAAI,CAACK,IAAI;QACrB,IAAI,CAACC,GAAG,GAAGN,IAAI,CAACM,GAAG;QACnB,IAAI,CAACC,UAAU,GAAGP,IAAI,CAACO,UAAU;QACjC,IAAI,CAACC,MAAM,GAAGR,IAAI,CAACQ,MAAM;QACzB,IAAI,CAACC,SAAS,GAAGT,IAAI,CAACS,SAAS;QAC/B,IAAI,CAACC,eAAe,GAAGV,IAAI,CAACU,eAAe;QAC3C,IAAI,CAACC,QAAQ,GAAGX,IAAI,CAACY,aAAa;QAClC,IAAI,CAACC,MAAM,GAAGb,IAAI,CAACa,MAAM;QACzB,IAAI,CAACb,IAAI,GAAGA,IAAI,CAACA,IAAI;QACrBc,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,eAAe,CAAC;;IAGrC,CAAC,CAAC;EACJ;;AApCWpB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT1B/B,uCAA6D;MAC7DA,8BAAwC;MAEhCA,iCAAqM;MACrMA,8DAGM;MACVA,iBAAM;;;MARSA,uCAAqB;MAGLA,eAAyB;MAAzBA,2CAAyB;MAC7BA,eAAY;MAAZA,qDAAY","names":["i0","UserComponent","constructor","api","auth","ngOnInit","token","sessionStorage","getItem","getProfile","subscribe","data","hasOwnProperty","alert","error","logout","name","bio","nFollowing","nPosts","nComments","profileImageUrl","imageUrl","coverImageUrl","labels","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/gui/TPW/tpw-projeto2/clanly/src/app/components/user/user.component.html","/home/gui/TPW/tpw-projeto2/clanly/src/app/components/user/user.component.ts"],"sourcesContent":["<app-profilebanner [imageUrl]=\"imageUrl\"></app-profilebanner>\n<div class=\"relative py-16 bg-base-100\">\n    <div class=\"container mx-auto px-4\">\n        <app-profile entity=\"user\" [nFollowing]=\"nFollowing\" [nPosts]=\"nPosts\" [nComments]=\"nComments\" [imageUrl]=\"profileImageUrl\" [name]=\"name\" [desc]=\"bio\" [labels]=\"labels\" [data]=\"data\"></app-profile>\n        <div *ngFor=\"let index of [0,1,2,3]\">\n            <app-post title=\"Lorem ipsum dolor sit amet.\"\n                content=\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus, qui officia ad ullam, consequuntur culpa rem pariatur a deserunt nulla provident suscipit nemo sapiente dolorem! Quas adipisci, quibusdam neque deserunt totam blanditiis maxime voluptates tempora sunt excepturi eligendi corrupti. Accusantium delectus doloremque expedita quasi laudantium non voluptatibus, esse at inventore.\"></app-post>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api-service.service';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})\nexport class UserComponent implements OnInit {\n\n  imageUrl: string = 'https://placeimg.com/2000/1000/nature';\n  nFollowing: number = 0;\n  nPosts: number = 0;\n  nComments: number = 0;\n  profileImageUrl: string = 'https://placeimg.com/400/400/people';\n  name: string = '';\n  bio: string = '';\n  labels: string[] = [];\n  data: number[] = [];\n  \n  constructor(private api: ApiService, private auth: AuthService) { }\n  \n  ngOnInit() {\n    const token = sessionStorage.getItem('token');\n\n    this.api.getProfile( token).subscribe(data => {\n      if (data.hasOwnProperty('error')) {\n        alert(data.error);\n        this.auth.logout();\n      }\n      else {\n        this.name = data.name;\n        this.bio = data.bio;\n        this.nFollowing = data.nFollowing;\n        this.nPosts = data.nPosts;\n        this.nComments = data.nComments;\n        this.profileImageUrl = data.profileImageUrl;\n        this.imageUrl = data.coverImageUrl;\n        this.labels = data.labels;\n        this.data = data.data;\n        console.log(this.profileImageUrl);\n        \n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}